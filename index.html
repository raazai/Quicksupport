<!DOCTYPE html>
<html>
<head>
<title>QuickHelp Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; }

body {
  background: linear-gradient(135deg,#1f1c2c,#928dab);
  color:white;
  min-height:100vh;
}

header {
  padding:20px;
  text-align:center;
  font-size:28px;
  font-weight:bold;
  letter-spacing:1px;
}

.container {
  padding:20px;
  max-width:1100px;
  margin:auto;
  text-align:center;
}

input {
  padding:12px;
  width:250px;
  border:none;
  border-radius:8px;
  margin:10px;
}

button {
  padding:12px 20px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#ff9800;
  color:white;
  font-weight:bold;
  transition:0.3s;
}

button:hover {
  transform:scale(1.05);
  background:#e68900;
}

.services {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px;
  margin-top:30px;
}

.card {
  background:white;
  color:black;
  padding:25px;
  border-radius:15px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
  transition:0.4s;
}

.card:hover {
  transform:translateY(-10px) scale(1.03);
}

.dashboard-box {
  margin-top:40px;
  background:rgba(255,255,255,0.15);
  padding:25px;
  border-radius:15px;
}

.booking-item {
  margin:10px 0;
  padding:10px;
  background:rgba(0,0,0,0.3);
  border-radius:10px;
}

.status {
  font-weight:bold;
}

.logout {
  position:absolute;
  right:20px;
  top:20px;
  cursor:pointer;
  font-size:14px;
  background:#ff4d4d;
  padding:8px 12px;
  border-radius:6px;
}

.timer {
  color:#00ffcc;
  font-weight:bold;
}
</style>
</head>

<body>

<header> QuickHelp Pro ‚Äì 15 Min Smart Booking</header>

<div class="container" id="loginSection">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Enter Your Name">
  <br>
  <button onclick="login()">Enter Platform</button>
</div>

<div class="container" id="dashboard" style="display:none;">
  <div class="logout" onclick="logout()">Logout</div>
  <h2 id="welcome"></h2>
  <p>Select a service & get assistance within 15 minutes</p>

  <div class="services">
    <div class="card" onclick="bookService('Cleaning', 15)">üßπ Cleaning</div>
    <div class="card" onclick="bookService('Plumbing', 15)">üö∞ Plumbing</div>
    <div class="card" onclick="bookService('Electrician', 15)">üí° Electrician</div>
    <div class="card" onclick="bookService('Cooking', 15)">üç≥ Cooking</div>
    <div class="card" onclick="bookService('Near Pick up',15)">Near_pick_up_ride</div>
    <div class="card" onclick="bookService('Ghar ka Store',15)">Ghar_ka_store</div>
    <div class="card" onclick="bookService('Washing Service',15)">Washing clath and instatumenytd</div>
  </div>
  
  <div class="dashboard-box">
    <h3>üìã Your Active Bookings</h3>
    <div id="bookingList"></div>
  </div>
</div>

<script>
function login(){
  const username=document.getElementById("username").value;
  if(!username){ alert("Enter name"); return; }
  localStorage.setItem("user",username);
  showDashboard();
}

function logout(){
  localStorage.clear();
  location.reload();
}

function showDashboard(){
  document.getElementById("loginSection").style.display="none";
  document.getElementById("dashboard").style.display="block";
  document.getElementById("welcome").innerText="Welcome, "+localStorage.getItem("user");
  displayBookings();
}

function generateID(){
  return "QH"+Math.floor(Math.random()*100000);
}

function bookService(service,eta){
  const booking={
    id:generateID(),
    service:service,
    eta:eta,
    timeLeft:eta*60,
    status:"Assigned",
    rating:null
  };

  let bookings=JSON.parse(localStorage.getItem("bookings"))||[];
  bookings.push(booking);
  localStorage.setItem("bookings",JSON.stringify(bookings));

  alert(`‚úÖ Booking Confirmed!
ID: ${booking.id}
Helper arriving in ${eta} minutes`);

  displayBookings();
  startTimer();
}

function startTimer(){
  setInterval(()=>{
    let bookings=JSON.parse(localStorage.getItem("bookings"))||[];
    bookings.forEach(b=>{
      if(b.timeLeft>0){
        b.timeLeft--;
        if(b.timeLeft===0){
          b.status="Completed";
        }
      }
    });
    localStorage.setItem("bookings",JSON.stringify(bookings));
    displayBookings();
  },1000);
}

function rateBooking(id,rating){
  let bookings=JSON.parse(localStorage.getItem("bookings"));
  bookings.forEach(b=>{
    if(b.id===id){
      b.rating=rating;
    }
  });
  localStorage.setItem("bookings",JSON.stringify(bookings));
  displayBookings();
}

function displayBookings(){
  const list=document.getElementById("bookingList");
  let bookings=JSON.parse(localStorage.getItem("bookings"))||[];
  list.innerHTML="";

  bookings.forEach(b=>{
    const minutes=Math.floor(b.timeLeft/60);
    const seconds=b.timeLeft%60;

    list.innerHTML+=`
      <div class="booking-item">
        <div><strong>${b.service}</strong> | ID: ${b.id}</div>
        <div>Status: <span class="status">${b.status}</span></div>
        ${b.status==="Assigned" ? 
          `<div class="timer">‚è≥ ${minutes}:${seconds<10?'0':''}${seconds} remaining</div>` : ""}
        ${b.status==="Completed" && !b.rating ? 
          `<div>
            Rate Service:
            <button onclick="rateBooking('${b.id}',5)">‚≠ê5</button>
            <button onclick="rateBooking('${b.id}',4)">‚≠ê4</button>
            <button onclick="rateBooking('${b.id}',3)">‚≠ê3</button>
          </div>` : ""}
        ${b.rating ? `<div>‚≠ê Rated: ${b.rating}/5</div>` : ""}
      </div>
    `;
  });
}

window.onload=function(){
  if(localStorage.getItem("user")){
    showDashboard();
    startTimer();
  }
}
</script>

</body>
</html>
